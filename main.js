(()=>{"use strict";var e=document.querySelector(".page"),t=e.querySelector(".places__list"),n=e.querySelector(".popup_type_image"),c=n.querySelector(".popup__image"),r=n.querySelector(".popup__caption"),i=e.querySelector(".profile__title"),o=e.querySelector(".profile__description"),u=document.forms["edit-profile"],a=document.forms["new-place"],p=u.name,l=u.description,s=a["place-name"],d=a.link,m=e.querySelector(".profile__add-button"),f=e.querySelector(".profile__edit-button"),_=e.querySelector(".popup_type_new-card"),y=e.querySelector(".popup_type_edit"),v=e.querySelectorAll(".popup__close"),b=e.querySelector("#card-template").content;function g(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",k),e.addEventListener("click",S)}function q(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",k),e.removeEventListener("click",S)}function k(e){"Escape"===e.key&&q(document.querySelector(".popup_is-opened"))}function S(e){e.target.closest(".popup__content")||q(document.querySelector(".popup_is-opened"))}function E(e){e.target.classList.toggle("card__like-button_is-active")}function L(e){e.target.closest(".card").remove()}function x(e,t,n,c){var r=b.querySelector(".card").cloneNode(!0),i=r.querySelector(".card__image"),o=r.querySelector(".card__delete-button"),u=r.querySelector(".card__like-button");return r.querySelector(".card__title").textContent=e.name,i.src=e.link,i.alt=e.name,o.addEventListener("click",t),u.addEventListener("click",n),i.addEventListener("click",c),r}var h=[{name:"Москва, Парк Горького",link:"https://sun9-34.userapi.com/impf/c637829/v637829579/44d04/s2s4UjB0yFg.jpg?size=1080x810&quality=96&sign=d63e8b5768a524773b2d1f956a8b1877&type=album"},{name:"Москва, Жулебино",link:"https://sun9-20.userapi.com/impf/c837624/v837624656/5a0de/HN5cFmm8pzQ.jpg?size=1080x1011&quality=96&sign=94cfca530c0921aec51b461fd08d21d4&type=album"},{name:"Москва, ВДНХ",link:"https://sun9-49.userapi.com/impf/c841324/v841324360/1d032/MZoeJGH31vI.jpg?size=1080x1080&quality=96&sign=f7ea0abb611b12078d577b7493bc48c8&type=album"},{name:"Москва, Парк Музеон",link:"https://sun9-69.userapi.com/impf/c840624/v840624291/7ff74/jvYcKH5Psdc.jpg?size=1080x810&quality=96&sign=3fe5945e922f391514679445886954fe&type=album"},{name:"Москва, Белое озеро",link:"https://sun9-35.userapi.com/impf/c849328/v849328409/18445/AsIA8iowiuQ.jpg?size=1080x1350&quality=96&sign=7c04bd602ba38851737fe086f3efce62&type=album"},{name:"Люберцы, Пушкинский парк",link:"https://sun9-21.userapi.com/impf/c850036/v850036859/2b2cd/EUsO2NOCuX4.jpg?size=1080x810&quality=96&sign=dbac2ac589d2276f1d9b46496eab5b40&type=album"}];function j(e){g(n),c.src=e.currentTarget.src,c.alt=e.currentTarget.alt,r.textContent=e.currentTarget.alt}m.addEventListener("click",(function(){return g(_)})),f.addEventListener("click",(function(){g(y),p.value=i.textContent,l.value=o.textContent})),u.addEventListener("submit",(function(e){return function(e,t,n){e.preventDefault(),i.textContent=t,o.textContent=n,q(e)}(e,p.value,l.value)})),a.addEventListener("submit",(function(e){return function(e){e.preventDefault();var n={};n.name=s.value,n.link=d.value,t.prepend(x(n,L,E,j)),q(e),e.target.reset()}(e)})),v.forEach((function(e){e.addEventListener("click",(function(e){q(e.target.closest(".popup_is-opened"))}))})),function(){for(var e=0;e<h.length;e++)t.prepend(x(h[e],L,E,j))}()})();