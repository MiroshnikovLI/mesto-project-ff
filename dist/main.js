(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),e.querySelector(".popup__close").addEventListener("click",t),document.addEventListener("keydown",n),e.addEventListener("click",r)}function t(){var e;e=document.querySelector(".popup_is-opened"),document.removeEventListener("keydown",n),e.removeEventListener("click",r),document.querySelector(".popup_is-opened").classList.remove("popup_is-opened")}function n(e){"Escape"===e.key&&t()}function r(e){e.target.closest(".popup__content")||t()}function c(t){e(v);var n=f.querySelector(".popup__image"),r=f.querySelector(".popup__caption");n.src=t.currentTarget.src,n.alt=t.currentTarget.alt,r.textContent=t.currentTarget.alt}var a=[{name:"Москва, Парк Горького",link:"https://sun9-34.userapi.com/impf/c637829/v637829579/44d04/s2s4UjB0yFg.jpg?size=1080x810&quality=96&sign=d63e8b5768a524773b2d1f956a8b1877&type=album"},{name:"Москва, Жулебино",link:"https://sun9-20.userapi.com/impf/c837624/v837624656/5a0de/HN5cFmm8pzQ.jpg?size=1080x1011&quality=96&sign=94cfca530c0921aec51b461fd08d21d4&type=album"},{name:"Москва, ВДНХ",link:"https://sun9-49.userapi.com/impf/c841324/v841324360/1d032/MZoeJGH31vI.jpg?size=1080x1080&quality=96&sign=f7ea0abb611b12078d577b7493bc48c8&type=album"},{name:"Москва, Парк Музеон",link:"https://sun9-69.userapi.com/impf/c840624/v840624291/7ff74/jvYcKH5Psdc.jpg?size=1080x810&quality=96&sign=3fe5945e922f391514679445886954fe&type=album"},{name:"Москва, Белое озеро",link:"https://sun9-35.userapi.com/impf/c849328/v849328409/18445/AsIA8iowiuQ.jpg?size=1080x1350&quality=96&sign=7c04bd602ba38851737fe086f3efce62&type=album"},{name:"Люберцы, Пушкинский парк",link:"https://sun9-21.userapi.com/impf/c850036/v850036859/2b2cd/EUsO2NOCuX4.jpg?size=1080x810&quality=96&sign=dbac2ac589d2276f1d9b46496eab5b40&type=album"}];function i(e){e.target.classList.toggle("card__like-button_is-active")}function u(e){e.target.closest(".card").remove()}function o(e,t,n,r){var c=x.querySelector(".card").cloneNode(!0),a=c.querySelector(".card__image"),i=c.querySelector(".card__delete-button"),u=c.querySelector(".card__like-button");return c.querySelector(".card__title").textContent=e.name,c.querySelector(".card__image").src=e.link,c.querySelector(".card__image").alt=e.name,i.addEventListener("click",t),u.addEventListener("click",n),a.addEventListener("click",r),c}var l=document.querySelector(".page"),p=l.querySelector(".places__list"),s=l.querySelector(".profile__add-button"),d=l.querySelector(".profile__edit-button"),m=l.querySelector(".popup_type_new-card"),_=l.querySelector(".popup_type_edit"),v=l.querySelector(".popup_type_image"),f=l.querySelector(".popup__content_content_image"),y=l.querySelector(".profile__title"),g=l.querySelector(".profile__description"),b=document.forms["edit-profile"],q=b.name,S=b.description,k=document.forms["new-place"],L=k["place-name"],E=k.link;s.addEventListener("click",(function(){return e(m)})),d.addEventListener("click",(function(){e(_),q.value=y.textContent,S.value=g.textContent})),b.addEventListener("submit",(function(e){return function(e,n,r){e.preventDefault(),y.textContent=n,g.textContent=r,q.value="",S.value="",t()}(e,q.value,S.value)})),k.addEventListener("submit",(function(e){return function(e){e.preventDefault();var n={};n.name=L.value,n.link=E.value,p.prepend(o(n,u,i,c)),t(),L.value="",E.value=""}(e)}));var x=l.querySelector("#card-template").content;!function(){for(var e=0;e<a.length;e++)p.prepend(o(a[e],u,i,c))}();var j=l.querySelector(".profile__image"),C=j.attributes.style.nodeValue;j.style.cssText="".concat(C," ").concat("cursor: pointer"),j.addEventListener("click",(function(){return c(((e={currentTarget:{}}).currentTarget.src=C.slice(0,-3).substring(23),e.currentTarget.alt=y.textContent,e));var e}))})();